[
  {
    "name": "Scenario Generator",
    "description": "Narzędzie do tworzenia i zarządzania scenariuszami automatyzacji",
    "tplDir": "scenario-builder",
    "workspaces": [
      {
        "id": "workspace-scenario-generator",
        "name": "Generator Scenariuszy",
        "description": "Tworzenie, edycja i zarządzanie scenariuszami automatyzacji",
        "icon": "settings",
        "scenarios": [
          {
            "id": "scenario-create",
            "name": "Utwórz nowy scenariusz",
            "description": "Kreator tworzenia nowych scenariuszy automatyzacji",
            "icon": "plus-circle",
            "nodes": [
              {
                "id": "scenario-basic-info",
                "scenarioId": "scenario-create",
                "label": "Krok 1: Podstawowe informacje",
                "assistantMessage": "Podaj podstawowe informacje o scenariuszu:",
                "contextPath": "scenario-data.basic",
                "tplFile": "FormStep",
                "order": 0,
                "attrs": {
                  "schemaPath": "schemas.form.scenario-basic"
                }
              },
              {
                "id": "scenario-ai-generate",
                "scenarioId": "scenario-create",
                "label": "Krok 2: Generacja AI",
                "assistantMessage": "Na podstawie opisu generuję strukturę scenariusza...",
                "contextPath": "scenario-data.ai-result",
                "tplFile": "LlmStep",
                "order": 1,
                "attrs": {
                  "autoStart": true,
                  "initialUserMessage": "Stwórz scenariusz na podstawie następujących informacji: nazwa={{scenario-data.basic.name}}, opis={{scenario-data.basic.description}}. Scenariusz powinien zawierać od 2 do 4 kroków. Odpowiedź zwróć w formacie JSON z następującą strukturą: { \"steps\": [ { \"label\": \"Nazwa kroku\", \"type\": \"formStep|llmStep|widgetsStep\", \"description\": \"Krótki opis kroku\", \"contextPath\": \"ścieżka-danych\" } ] }"
                }
              },
              {
                "id": "scenario-steps-config",
                "scenarioId": "scenario-create",
                "label": "Krok 3: Konfiguracja kroków",
                "assistantMessage": "Dostosuj wygenerowane kroki scenariusza:",
                "contextPath": "scenario-data.steps-config",
                "tplFile": "StepsEditorStep",
                "order": 2,
                "attrs": {
                  "dataPath": "scenario-data.ai-result.steps"
                }
              },
              {
                "id": "scenario-code-generation",
                "scenarioId": "scenario-create",
                "label": "Krok 4: Generacja kodu",
                "assistantMessage": "Generuję kod implementujący scenariusz...",
                "contextPath": "scenario-data.generated-code",
                "tplFile": "LlmStep",
                "order": 3,
                "attrs": {
                  "autoStart": true,
                  "initialUserMessage": "Wygeneruj kod TypeScript dla scenariusza na podstawie: nazwa={{scenario-data.basic.name}}, opis={{scenario-data.basic.description}}, kroki={{scenario-data.steps-config}}. Zwróć cały kod implementujący ten scenariusz zgodnie z konwencją używaną w systemie."
                }
              },
              {
                "id": "scenario-summary",
                "scenarioId": "scenario-create",
                "label": "Krok 5: Podsumowanie",
                "assistantMessage": "Oto podsumowanie utworzonego scenariusza:",
                "contextPath": "scenario-data.summary",
                "tplFile": "WidgetsStep",
                "order": 4,
                "attrs": {
                  "widgets": [
                    {
                      "tplFile": "Title",
                      "title": "Scenariusz utworzony pomyślnie!"
                    },
                    {
                      "tplFile": "ScenarioInfoCard",
                      "title": "Informacje o scenariuszu",
                      "dataPath": "scenario-data.basic"
                    },
                    {
                      "tplFile": "StepsOverview",
                      "title": "Kroki scenariusza",
                      "dataPath": "scenario-data.steps-config"
                    },
                    {
                      "tplFile": "CodePreview",
                      "title": "Wygenerowany kod",
                      "dataPath": "scenario-data.generated-code"
                    }
                  ]
                }
              }
            ]
          },
          {
            "id": "scenario-edit",
            "name": "Edytuj istniejący scenariusz",
            "description": "Modyfikacja parametrów istniejącego scenariusza",
            "icon": "edit",
            "nodes": [
              {
                "id": "scenario-select",
                "scenarioId": "scenario-edit",
                "label": "Krok 1: Wybierz scenariusz",
                "assistantMessage": "Wybierz scenariusz do edycji:",
                "contextPath": "edit-data.selection",
                "tplFile": "ScenarioPickerStep",
                "order": 0,
                "attrs": {}
              },
              {
                "id": "scenario-load",
                "scenarioId": "scenario-edit",
                "label": "Krok 2: Ładowanie scenariusza",
                "assistantMessage": "Ładuję wybrany scenariusz...",
                "contextPath": "edit-data.loaded",
                "tplFile": "LlmStep",
                "order": 1,
                "attrs": {
                  "autoStart": true,
                  "initialUserMessage": "Załaduj scenariusz o ID {{edit-data.selection.scenarioId}} i przygotuj jego strukturę do edycji. Zwróć strukturę w formacie JSON."
                }
              },
              {
                "id": "scenario-modify",
                "scenarioId": "scenario-edit",
                "label": "Krok 3: Modyfikacja scenariusza",
                "assistantMessage": "Dostosuj parametry scenariusza:",
                "contextPath": "edit-data.modified",
                "tplFile": "ScenarioEditorStep",
                "order": 2,
                "attrs": {
                  "dataPath": "edit-data.loaded"
                }
              },
              {
                "id": "scenario-update",
                "scenarioId": "scenario-edit",
                "label": "Krok 4: Aktualizacja kodu",
                "assistantMessage": "Aktualizuję kod scenariusza...",
                "contextPath": "edit-data.updated-code",
                "tplFile": "LlmStep",
                "order": 3,
                "attrs": {
                  "autoStart": true,
                  "initialUserMessage": "Zaktualizuj kod scenariusza na podstawie nowych parametrów: {{edit-data.modified}}. Zwróć cały zaktualizowany kod implementujący ten scenariusz."
                }
              }
            ]
          }
        ],
        "templateSettings": {
          "layoutFile": "ScenarioBuilder",
          "widgets": [
            {
              "tplFile": "Info",
              "data": {
                "title": "Generator Scenariuszy",
                "description": "Wybierz opcję, aby rozpocząć pracę ze scenariuszami",
                "variant": "info"
              }
            },
            {
              "tplFile": "ScenarioList"
            }
          ]
        },
        "initialContext": {
          "schemas": {
            "form": {
              "scenario-basic": [
                {
                  "name": "name",
                  "label": "Nazwa scenariusza",
                  "type": "text",
                  "required": true,
                  "placeholder": "Np. Analiza marketingowa"
                },
                {
                  "name": "description",
                  "label": "Opis",
                  "type": "textarea",
                  "required": true,
                  "placeholder": "Opisz, co będzie robił ten scenariusz..."
                },
                {
                  "name": "icon",
                  "label": "Ikona",
                  "type": "select",
                  "required": true,
                  "options": [
                    {
                      "value": "folder-kanban",
                      "label": "Folder"
                    },
                    {
                      "value": "calculator",
                      "label": "Kalkulator"
                    },
                    {
                      "value": "bar-chart",
                      "label": "Wykres"
                    },
                    {
                      "value": "clipboard-list",
                      "label": "Lista"
                    },
                    {
                      "value": "presentation",
                      "label": "Prezentacja"
                    },
                    {
                      "value": "file-check",
                      "label": "Dokument"
                    },
                    {
                      "value": "users",
                      "label": "Użytkownicy"
                    }
                  ],
                  "defaultValue": "folder-kanban"
                },
                {
                  "name": "useTemplateId",
                  "label": "Szablon (opcjonalnie)",
                  "type": "select",
                  "required": false,
                  "options": [
                    {
                      "value": "",
                      "label": "Brak - utwórz od podstaw"
                    },
                    {
                      "value": "template-analytics",
                      "label": "Analiza danych"
                    },
                    {
                      "value": "template-marketing",
                      "label": "Kampania marketingowa"
                    },
                    {
                      "value": "template-form",
                      "label": "Ankieta z raportowaniem"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    ]
  }
]