{
    "id": "user-profile",
    "slug": "user-profile",
    "workspaceSlug": "workspace-user-auth",
    "name": "Profil użytkownika",
    "description": "Zarządzaj swoimi danymi, ustawieniami i preferencjami",
    "icon": "user-check",
    "nodes": [
      {
        "slug": "profile-data-fetch",
        "label": "Pobieranie danych profilu",
        "contextSchemaPath": "profile-data",
        "contextDataPath": "profile-data",
        "tplFile": "LlmStep",
        "order": 0,
        "attrs": {
          "autoStart": true,
          "userMessage": "Symuluj pobranie danych profilu użytkownika. Zwróć obiekt JSON z podstawowymi polami: email ('jan.kowalski@example.com'), firstName ('Jan'), lastName ('Kowalski'), points (100), role ('beneficjent'). Pozostałe pola (phone, address, postalCode, city, notificationsEnabled) ustaw jako puste lub null, gdyż użytkownik jeszcze ich nie uzupełnił. Zwróć tylko czysty obiekt JSON."
        }
      },
      {
        "slug": "profile-preview",
        "label": "Podgląd profilu",
        "contextSchemaPath": "profile-data",
        "contextDataPath": "profile-data",
        "tplFile": "WidgetsStep",
        "order": 1,
        "attrs": {
          "title": "Twój profil",
          "subtitle": "Przeglądaj i edytuj swoje dane",
          "widgets": [
            {
              "tplFile": "TitleWidget",
              "title": "Informacje podstawowe",
              "subtitle": "Dane podstawowe Twojego konta",
              "colSpan": "full"
            },
            {
              "tplFile": "InfoWidget",
              "title": "Email",
              "contextDataPath": "profile-data.email",
              "icon": "mail",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Imię",
              "contextDataPath": "profile-data.firstName",
              "icon": "user",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Nazwisko",
              "contextDataPath": "profile-data.lastName",
              "icon": "user",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Punkty",
              "contextDataPath": "profile-data.points",
              "icon": "tag",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Rola",
              "contextDataPath": "profile-data.role",
              "icon": "briefcase",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Status profilu",
              "data": "Uzupełnij swój profil, aby zwiększyć swoje szanse na sukces.",
              "icon": "info",
              "colSpan": "full"
            }
          ]
        }
      },
      {
        "slug": "profile-edit-form",
        "label": "Edycja profilu",
        "contextSchemaPath": "profile-data",
        "contextDataPath": "profile-data",
        "tplFile": "FormStep",
        "order": 2,
        "attrs": {
          "title": "Edycja profilu",
          "description": "Uzupełnij brakujące informacje w swoim profilu",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "phone": {
                "type": "string",
                "title": "Telefon kontaktowy"
              },
              "address": {
                "type": "string",
                "title": "Adres"
              },
              "postalCode": {
                "type": "string",
                "title": "Kod pocztowy",
                "pattern": "^[0-9]{2}-[0-9]{3}$"
              },
              "city": {
                "type": "string",
                "title": "Miejscowość"
              },
              "notificationsEnabled": {
                "type": "boolean",
                "title": "Chcę otrzymywać powiadomienia o nowych ofertach",
                "default": true
              }
            },
            "required": ["phone", "postalCode", "city"]
          },
          "submitLabel": "Zapisz zmiany"
        }
      },
      {
        "slug": "profile-update-merged",
        "label": "Aktualizacja profilu",
        "contextSchemaPath": "profile-data",
        "contextDataPath": "profile-data",
        "tplFile": "LlmStep",
        "order": 3,
        "attrs": {
          "autoStart": true,
          "userMessage": "Na podstawie edytowanych danych utwórz zaktualizowany obiekt profilu. Zachowaj istniejące dane (email, firstName, lastName, points, role) i dodaj zaktualizowane pola: phone, address, postalCode, city, notificationsEnabled z {{profile-data}}. Zwróć jako czysty obiekt JSON."
        },
        "saveToDB": {
          "enabled": true,
          "provider": "indexedDB",
          "itemType": "profile",
          "itemTitle": "Profil użytkownika",
          "contentPath": "profile-data"
        }
      },
      {
        "slug": "profile-complete",
        "label": "Profil zaktualizowany",
        "contextSchemaPath": "profile-data",
        "contextDataPath": "profile-data",
        "tplFile": "WidgetsStep",
        "order": 4,
        "attrs": {
          "title": "Profil zaktualizowany",
          "subtitle": "Twój profil został pomyślnie zaktualizowany",
          "widgets": [
            {
              "tplFile": "TitleWidget",
              "title": "Twój profil został zaktualizowany",
              "subtitle": "Dziękujemy za uzupełnienie danych. Twój profil jest teraz kompletny.",
              "colSpan": "full"
            },
            {
              "tplFile": "InfoWidget",
              "title": "Email",
              "contextDataPath": "profile-data.email",
              "icon": "mail",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Imię i nazwisko",
              "data": "{{profile-data.firstName}} {{profile-data.lastName}}",
              "icon": "user",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Telefon",
              "contextDataPath": "profile-data.phone",
              "icon": "phone",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Adres",
              "data": "{{profile-data.address}}, {{profile-data.postalCode}} {{profile-data.city}}",
              "icon": "map-pin",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Punkty",
              "contextDataPath": "profile-data.points",
              "icon": "tag",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Rola",
              "contextDataPath": "profile-data.role",
              "icon": "briefcase",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Status profilu",
              "data": "Twój profil jest teraz kompletny, co zwiększa Twoje szanse na sukces.",
              "icon": "check",
              "colSpan": "full"
            }
          ]
        }
      }
    ]
  }