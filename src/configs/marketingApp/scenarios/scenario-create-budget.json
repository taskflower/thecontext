{
    "id": "scenario-create-budget",
    "slug": "scenario-create-budget",
    "workspaceSlug": "workspace-googleads",
    "name": "Utwórz budżet kampanii",
    "description": "Tworzenie nowego budżetu dla kampanii Google Ads",
    "icon": "money",
    "nodes": [
      {
        "slug": "create-budget-form",
        "label": "Utwórz nowy budżet",
        "contextSchemaPath": "campaign-data.budget",
        "contextDataPath": "campaign-data.budget",
        "tplFile": "FormStep",
        "order": 0,
        "attrs": {
          "title": "Utwórz nowy budżet kampanii",
          "description": "Wypełnij formularz, aby utworzyć nowy budżet dla kampanii",
          "jsonSchema": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "title": "Nazwa budżetu",
                "default": "Nowy budżet kampanii"
              },
              "amount": {
                "type": "number",
                "title": "Kwota budżetu (PLN)",
                "minimum": 100,
                "default": 1000
              },
              "deliveryMethod": {
                "type": "string",
                "title": "Metoda dostarczania",
                "enum": [
                  "STANDARD",
                  "ACCELERATED"
                ],
                "default": "STANDARD"
              },
              "explicitlyShared": {
                "type": "boolean",
                "title": "Budżet współdzielony",
                "default": false
              },
              "amountMicros": {
                "type": "number",
                "title": "Kwota w mikrojednostkach (wypełniane automatycznie)"
              }
            },
            "required": [
              "name",
              "amount",
              "deliveryMethod"
            ]
          },
          "submitLabel": "Utwórz budżet",
          "postProcess": {
            "enabled": true,
            "operations": [
              {
                "path": "campaign-data.budget.amountMicros",
                "action": "calculate",
                "formula": "campaign-data.budget.amount * 1000000"
              }
            ]
          }
        }
      },
      {
        "slug": "create-budget-api",
        "label": "Tworzenie budżetu w Google Ads",
        "contextSchemaPath": "campaign-data.budget",
        "contextDataPath": "campaign-data.budget",
        "tplFile": "ApiStep",
        "order": 1,
        "attrs": {
          "title": "Tworzenie budżetu w Google Ads",
          "description": "Trwa tworzenie budżetu w systemie Google Ads",
          "apiEndpoint": "/api/v1/services/googleads/campaign-budgets",
          "method": "POST",
          "payloadDataPath": "campaign-data.budget"
        }
      },
      {
        "slug": "budget-summary",
        "label": "Podsumowanie",
        "contextSchemaPath": "campaign-data.budget",
        "contextDataPath": "campaign-data.budget",
        "tplFile": "WidgetsStep",
        "order": 2,
        "attrs": {
          "title": "Podsumowanie utworzonego budżetu",
          "widgets": [
            {
              "tplFile": "InfoWidget",
              "title": "Utworzony budżet",
              "contextDataPath": "campaign-data.budget.name",
              "icon": "check",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Kwota budżetu",
              "contextDataPath": "campaign-data.budget.amount",
              "icon": "money",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "ID budżetu",
              "contextDataPath": "campaign-data.budget.budgetId",
              "icon": "info",
              "colSpan": 1
            },
            {
              "tplFile": "InfoWidget",
              "title": "Informacja",
              "data": "Budżet został pomyślnie utworzony. Możesz teraz przejść do zarządzania budżetami, aby zobaczyć wszystkie dostępne budżety.",
              "icon": "info",
              "colSpan": "full"
            }
          ]
        }
      }
    ]
  }