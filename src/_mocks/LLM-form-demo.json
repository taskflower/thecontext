[
    {
        "name": "FormDemo LLM",
        "description": "Demonstracja kontroli odpowiedzi LLM",
        "tplDir": "default",
        "workspaces": [
            {
                "name": "Kontrola Formatu LLM",
                "description": "Przykład 3-krokowego flow z kontrolą formatu danych z LLM",
                "icon": "brain",
                "initialContext": {
                    "userInfo": {},
                    "productSuggestion": {},
                    "summary": {},
                    "schemas": {
                        "recommendations": {
                            "recommendations": [
                                {
                                    "productName": "string",
                                    "category": "string",
                                    "price": "number",
                                    "description": "string",
                                    "matchReason": "string"
                                }
                            ],
                            "totalItems": "number",
                            "budgetFit": "string"
                        },
                        "userForm": [
                            {
                                "name": "age",
                                "label": "Wiek",
                                "type": "number",
                                "required": true
                            },
                            {
                                "name": "interests",
                                "label": "Zainteresowania",
                                "type": "text",
                                "required": true
                            },
                            {
                                "name": "budget",
                                "label": "Budżet (PLN)",
                                "type": "number",
                                "required": true
                            }
                        ]
                    }
                },
                "templateSettings": {
                    "tplDir": "default",
                    "layoutFile": "Simple",
                    "widgets": [
                        {
                            "tplFile": "ScenarioList"
                        }
                    ]
                },
                "scenarios": [
                    {
                        "name": "Analiza produktowa",
                        "description": "Generowanie rekomendacji produktów w określonym formacie JSON",
                        "icon": "shopping-cart",
                        "nodes": [
                            {
                                "id": "step1",
                                "label": "Informacje o kliencie",
                                "tplFile": "FormStep",
                                "contextPath": "userInfo",
                                "assistantMessage": "Proszę podać podstawowe informacje o swoich preferencjach zakupowych.",
                                "order": 0,
                                "attrs": {
                                    "schemaPath": "schemas.userForm"
                                }
                            },
                            {
                                "id": "step2",
                                "label": "Analiza LLM",
                                "tplFile": "LlmStep",
                                "contextPath": "productSuggestion",
                                "order": 1,
                                "attrs": {
                                    "autoStart": true,
                                    "systemMessage": "Twoim zadaniem jest analiza preferencji klienta i wygenerowanie rekomendacji produktów WYŁĄCZNIE w formacie JSON zgodnym z podanym schematem. Nie dodawaj żadnego tekstu przed ani po JSON.",
                                    "initialUserMessage": "Na podstawie poniższych informacji o kliencie, wygeneruj 3 rekomendacje produktów. Wiek klienta: {{userInfo.age}}, zainteresowania: {{userInfo.interests}}, budżet: {{userInfo.budget}} PLN. WAŻNE: Musisz odpowiedzieć WYŁĄCZNIE w formacie JSON - nie w formie tekstowej. Dane JSON powinny być zgodne z podanym schematem. Pole budgetFit musi być jednym z: 'low', 'medium', 'high'. NIE PISZ TEKSTU PRZED ANI PO BLOKU JSON.",
                                    "schemaPath": "schemas.recommendations"
                                }
                            },
                            {
                                "id": "step3",
                                "label": "Podsumowanie",
                                "tplFile": "WidgetsStep",
                                "contextPath": "summary",
                                "assistantMessage": "Oto podsumowanie analizy i rekomendacje produktów dopasowane do Twoich preferencji.",
                                "order": 2,
                                "attrs": {
                                    "widgets": [
                                        {
                                            "id": "userInfo",
                                            "tplFile": "DataDisplay",
                                            "title": "Profil klienta",
                                            "type": "keyValue",
                                            "dataPath": "userInfo"
                                        },
                                        {
                                            "id": "recommendations",
                                            "tplFile": "CardList",
                                            "title": "Rekomendowane produkty",
                                            "dataPath": "productSuggestion.recommendations"
                                        },
                                        {
                                            "id": "budgetInfo",
                                            "tplFile": "Info",
                                            "data": {
                                                "title": "Dopasowanie do budżetu",
                                                "description": "Poziom dopasowania: {{productSuggestion.budgetFit}}",
                                                "variant": "info"
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    }
]